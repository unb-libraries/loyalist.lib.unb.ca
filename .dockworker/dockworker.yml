dockworker:
  version: '6'
  application:
    name: The Loyalist Collection
    uri: https://loyalist.lib.unb.ca
    description: >
      This is a special collection of British and Colonial North American sources published in microformat and digitally.
    topics:
      - loyalist
      - history
      - records
    identifiers:
      id: loyalist.lib.unb.ca
      slug: loyalist-lib-unb-ca
      short_slug: loyalist
      uuid: 3113
    framework:
      name: Drupal
      version: 10
      startup_finished_marker: '99_startup_sequence_complete'
      endpoint:
        name: http
        port: 80
        readiness_timeout: 15
    license:
      license: MIT
      holder: University of New Brunswick Libraries
    shell:
      shell: /bin/sh
    workflows:
      vcs:
        type: github
        owner: unb-libraries
        name: loyalist.lib.unb.ca
      jira:
        project_keys:
          - LOYALIST
      ci:
        actions:
          - source: dockworker-drupal
            type: deployment-workflow
      image:
        parent: ghcr.io/unb-libraries/drupal:10.x-1.x-unblib
        repositories:
          - name: GitHub
            push_branches:
              - dev
              - prod
            image_name: ghcr.io/unb-libraries/loyalist.lib.unb.ca
      k8s:
        deployments:
          - name: loyalist-lib-unb-ca
            namespaces:
              - dev
              - prod
        e2e_tests:
          - id: core
            frequency: '*/5 * * * *'
            source_files:
              - .dockworker/tests/e2e/loyalist.lib.unb.ca.yml
            namespaces:
              - prod
      local:
        deployments:
          - name: loyalist.lib.unb.ca
        additional_hostnames:
          - loyalist.lib.unb.ca
          - loyalist.lib.unb.ca.local
