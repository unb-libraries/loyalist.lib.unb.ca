id: 1_loyalist_migrate_loyalist_blog
label: 'Loyalist Blog Posts'

migration_tags:
  - Loyalist
  - SQL

source:
  plugin: loyalist_blog
  key: migrate

process:
  nid: nid
  vid: vid
  status: status
  created: created
  changed: changed
  promote: promote
  sticky: sticky
  title:
    plugin: callback
    callable: trim
    source: title
  'body/format':
    plugin: default_value
    default_value: wysiwyg
  'body/value':
    plugin: str_replace
    source: body_value
    search: [ '<b>', '</b>', '<i>', '</i>', '&nbsp;' ]
    replace: [ '<strong>', '</strong>', '<em>', '</em>', ' ' ]
  'body/summary': body_summary

destination:
  plugin: 'entity:node'
  default_bundle: blog_post
