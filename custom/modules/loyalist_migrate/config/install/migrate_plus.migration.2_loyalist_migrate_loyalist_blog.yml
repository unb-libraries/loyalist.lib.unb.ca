id: 2_loyalist_migrate_loyalist_blog
label: 'Loyalist Posts'

migration_tags:
  - Loyalist
  - SQL

source:
  plugin: loyalist_blog
  key: migrate

process:
  nid: nid
  uid: uid
  vid: vid
  status: status
  created: created
  changed: changed
  promote: promote
  sticky: sticky
  title:
    plugin: callback
    callable: trim
    source: title
  'body/format':
    plugin: default_value
    default_value: wysiwyg
  'body/value':
    plugin: str_replace
    source: body_value
    search: [ '<b>', '</b>', '<i>', '</i>', '&nbsp;', 'class="Table"',  'style="text-align:center"']
    replace: [ '<strong>', '</strong>', '<em>', '</em>', ' ', 'class="table table-bordered table-striped"', 'class="text-center"' ]
  'body/summary': body_summary

destination:
  plugin: 'entity:node'
  default_bundle: blog_post
